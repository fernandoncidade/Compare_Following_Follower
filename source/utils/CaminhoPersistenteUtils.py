import os
from functools import lru_cache
from source.utils.LogManager import LogManager
logger = LogManager.get_logger()

@lru_cache(maxsize=1)
def obter_caminho_persistente():
    config_dir = os.path.join(os.environ.get('LOCALAPPDATA', os.path.expanduser('~')), 'FollowersFollowingGitHub')
    if not os.path.exists(config_dir):
        try:
            os.makedirs(config_dir)

        except Exception as e:
            logger.error(f"Erro ao criar diretório de configuração: {e}")

    return config_dir
